"use strict";define(function(require,a,b){var c,d,e,f=["大奖","二等奖","三等奖","四等奖","五等奖","安慰奖","谢谢参与","再来1次","谢谢参与2"],g=0,h=React.createClass({displayName:"Lottery",init:function(){function a(a){console.log("click")}function b(a){console.log("press")}function e(a){console.log("move")}var g=200,h=200;c=new createjs.Stage("demoCanvas"),d=new createjs.Container,d.x=g,d.y=h,d.regX=g,d.regY=h;var i=new createjs.Shape;i.graphics.beginFill("#E11010").drawCircle(0,0,150),i.x=g,i.y=h,d.addChild(i);var j=new createjs.Shape;j.graphics.setStrokeStyle(3,"round","round").beginFill("#00FF24").beginStroke("#00FF24").moveTo(0,0).lineTo(0,150),j.x=g,j.y=h,d.addChild(j);var k=new createjs.Text("!"+f[0],"16px Arial","#FFF");k.x=g,k.y=h,k.rotation=110,k.regX=-50,k.regY=10,d.addChild(k);for(var l=0;9>l;l++){var m=j.clone();m.rotation=40*l,d.addChild(m);var n=k.clone();n.text="!"+f[l],n.rotation=110+40*l,d.addChild(n)}var o=new createjs.Shape;o.graphics.setStrokeStyle(11,"round","round").beginStroke("#0048FF").arc(g,h,150,0,2*Math.PI),d.addChild(o),c.addChild(d);var p=new createjs.Shape;p.graphics.setStrokeStyle(1,"round","round").beginFill("DeepSkyBlue").beginStroke("DeepSkyBlue").moveTo(0,0).lineTo(0,90).lineTo(-12,90).lineTo(2,110).lineTo(18,90).lineTo(6,90).lineTo(6,0),p.x=g,p.y=h,p.regX=3,c.addChild(p),c.update(),c.addEventListener("click",a),c.addEventListener("mousedown",b),c.addEventListener("pressmove",e),createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",c)},start:function(){var a=this,b=document.getElementById("button");b.disabled="disabled";var c=Math.random();console.log(c),createjs.Tween.get(d,{loop:!1}).to({rotation:-g}).call(function(){g=360*c,e=Math.round(3600+g);var h=f[f.length-1-Math.floor(g/40)];console.log(g/40),console.log(f[f.length-1-Math.floor(g/40)]),createjs.Tween.get(d,{loop:!1}).to({rotation:e},1e4,createjs.Ease.quintOut).call(function(){console.log(g),b.disabled=!1,a.refs.result.innerHTML="开奖结果："+h})})},componentDidMount:function(){this.init()},render:function(){return React.createElement("div",{className:"lottery"},React.createElement("canvas",{id:"demoCanvas",width:"400",height:"400"}),React.createElement("input",{id:"button",type:"button",value:"start",onClick:this.start}),React.createElement("div",{ref:"result"}))}});b.exports=h});